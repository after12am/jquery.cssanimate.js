/*
 * jquery.cssanimate.js
 *
 * A jQuery plugin provides a stylish and cute animation for your smartphone app.
 *
 * https://github.com/after12am/jquery.cssanimate.js
 *
 * Copyright 2013 Satoshi Okami
 * Released under the MIT license
 */
(function(e){void 0==String.prototype.format&&(String.prototype.format=function(a){if("object"==typeof a)return this.replace(/\{(\w+)\}/g,function(c,b){return a[b]});a=Array.prototype.slice.apply(arguments);return ss=a.reduce(function(c,b,f){return c.replace("{i}".replace("i",f),a[f])},this.toString())});e.fn.translateX=function(a,c,b,f,g){this.cssanimate({x:a},c,b,f,g)};e.fn.translateY=function(a,c,b,f,g){this.cssanimate({y:a},c,b,f,g)};e.fn.translateZ=function(a,c,b,f,g,d){this.cssanimate({z:a,
perspective:c},b,f,g,d)};e.fn.translate=function(a,c,b,f,d,e){this.cssanimate({x:a,y:c},b,f,d,e)};e.fn.translate3d=function(a,c,b,f,d,e,i,k){this.cssanimate({x:a,y:c,z:b,perspective:f},d,e,i,k)};e.fn.scaleX=function(a,c,b,f,d){this.cssanimate({scalex:a},c,b,f,d)};e.fn.scaleY=function(a,c,b,f,d){this.cssanimate({scaley:a},c,b,f,d)};e.fn.scaleZ=function(){throw Error("not implemented");};e.fn.scale=function(a,c,b,f,d,e){this.cssanimate({scalex:a,scaley:c},b,f,d,e)};e.fn.scale3d=function(){throw Error("not implemented");
};e.fn.rotateX=function(a,c,b,f,d){this.cssanimate({rotatex:a},c,b,f,d)};e.fn.rotateY=function(a,c,b,f,d,e){this.cssanimate({rotatey:a,perspective:c},b,f,d,e)};e.fn.rotateZ=function(a,c,b,f,d){this.cssanimate({rotatez:a},c,b,f,d)};e.fn.rotate=function(a,c,b,f,d){this.cssanimate({rotate:a},c,b,f,d)};e.fn.rotate3d=function(a,c,b,d,e,h,i,k,j){this.cssanimate({rotate:[a,c,b,d],perspective:e},h,i,k,j)};e.fn.skewX=function(a,c,b,d,e){this.cssanimate({skewx:a},c,b,d,e)};e.fn.skewY=function(a,c,b,d,e){this.cssanimate({skewy:a},
c,b,d,e)};e.fn.skew=function(a,c,b,d,e,h){this.cssanimate({skew:[a,c]},b,d,e,h)};var j={prefix:function(){var a=e("<div>")[0],c="",b={WebkitTransition:"-webkit-",MozTransition:"-moz-",MSTransition:"-ms-",OTransition:"-o-",transition:""};for(c in b)if(a.style[c]!==void 0){c=b[c];break}return c},transitionEnd:function(){var a=e("<div>")[0],c="transitionEnd",b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"},
d;for(d in b)if(a.style[d]!==void 0){c=b[d];break}return c}};e.fn.cssanimate=function(a,c,b,f,g){a=a||{};if(typeof c==="function"){g=c;c=void 0}if(typeof b==="function"){g=b;b=void 0}if(typeof f==="function"){g=f;f=void 0}if(c)a.duration=c;if(b)a.delay=b;if(f)a.ease=f;delete a.perspective;e(this).queue((new d).compile(a).queue(e(this),g));return this};e.fn.origin=function(a,c){var b=d.prefix,f={};f["{0}transition-duration".format(b)]="0";f["{0}transform-origin".format(b)]="{0} {1}".format(a,c);e(this).css(f);
for(f=0;;){if(e(this).css("{0}transition-duration".format(b)).match(/^0/))break;if(++f>50)break}return this};var d=function(){this.css={};this.transition={}};d.prefix=j.prefix();d.transitionEvent=j.transitionEnd();d.ease={"in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)","ease-in-quad":"cubic-bezier(0.550, 0.085, 0.680, 0.530)","ease-in-cubic":"cubic-bezier(0.550, 0.055, 0.675, 0.190)","ease-in-quart":"cubic-bezier(0.895, 0.030, 0.685, 0.220)",
"ease-in-quint":"cubic-bezier(0.755, 0.050, 0.855, 0.060)","ease-in-sine":"cubic-bezier(0.470, 0.000, 0.745, 0.715)","ease-in-expo":"cubic-bezier(0.950, 0.050, 0.795, 0.035)","ease-in-circ":"cubic-bezier(0.600, 0.040, 0.980, 0.335)","ease-in-back":"cubic-bezier(0.600, -0.280, 0.735, 0.045)","ease-out-quad":"cubic-bezier(0.250, 0.460, 0.450, 0.940)","ease-out-cubic":"cubic-bezier(0.215, 0.610, 0.355, 1.000)","ease-out-quart":"cubic-bezier(0.165, 0.840, 0.440, 1.000)","ease-out-quint":"cubic-bezier(0.230, 1.000, 0.320, 1.000)",
"ease-out-sine":"cubic-bezier(0.390, 0.575, 0.565, 1.000)","ease-out-expo":"cubic-bezier(0.190, 1.000, 0.220, 1.000)","ease-out-circ":"cubic-bezier(0.075, 0.820, 0.165, 1.000)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1.275)","ease-out-quad":"cubic-bezier(0.455, 0.030, 0.515, 0.955)","ease-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1.000)","ease-in-out-quart":"cubic-bezier(0.770, 0.000, 0.175, 1.000)","ease-in-out-quint":"cubic-bezier(0.860, 0.000, 0.070, 1.000)","ease-in-out-sine":"cubic-bezier(0.445, 0.050, 0.550, 0.950)",
"ease-in-out-expo":"cubic-bezier(1.000, 0.000, 0.000, 1.000)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.150, 0.860)","ease-in-out-back":"cubic-bezier(0.680, -0.550, 0.265, 1.550)"};d.prototype.compile=function(a){var c=[],b;for(b in a){switch(b){case "x":c.push(this.parseX(a[b]));break;case "y":c.push(this.parseY(a[b]));break;case "z":c.push(this.parseZ(a[b]));break;case "rotate":c.push(this.parseRotate(a[b]));break;case "rotatex":c.push(this.parseRotateX(a[b]));break;case "rotatey":c.push(this.parseRotateY(a[b]));
break;case "rotatez":c.push(this.parseRotateZ(a[b]));break;case "scale":c.push(this.parseScale(a[b]));break;case "scalex":c.push(this.parseScaleX(a[b]));break;case "scaley":c.push(this.parseScaleY(a[b]));break;case "scalez":c.push(this.parseScaleZ(a[b]));break;case "skew":c.push(this.parseSkew(a[b]));break;case "skewx":c.push(this.parseSkewX(a[b]));break;case "skewy":c.push(this.parseSkewY(a[b]));break;default:continue}delete a[b]}return this.build(a,c)};d.prototype.build=function(a,c){var b={},f=
d.prefix;b["{0}transform".format(f)]=c.join(" ");b["{0}transition-property".format(f)]=this.property(a);b["{0}transition-duration".format(f)]=this.duration(a);b["{0}transition-delay".format(f)]=this.delay(a);b["{0}transition-timing-function".format(f)]=this.ease(a);b["{0}transform-style".format(f)]=this.style(a);["property","duration","delay","ease","style"].forEach(function(b){delete a[b]});this.css=e.extend(b,a);this.transition=b;return this};d.prototype.queue=function(a,c){var b=this,f=this.duration(),
g=d.prefix,h=function(){e(a).unbind(d.transitionEvent,e.proxy(h,a));typeof c==="function"&&e.proxy(c,a)();e(a).dequeue()};return function(){if(f===0){e(a).css(css);for(var i=0;;){if(e(a).css("{0}transition-duration".format(g)).match(/^0/))break;if(++i>50)break}typeof c==="function"&&e.proxy(c,a)();e(a).dequeue()}else e(a).bind(d.transitionEvent,e.proxy(h,a)).css(b.css)}};d.prototype.parseX=function(a){return"translateX({0}px)".format(a||0)};d.prototype.parseY=function(a){return"translateY({0}px)".format(a||
0)};d.prototype.parseZ=function(a){return"translateZ({0}px)".format(a||0)};d.prototype.parseRotate=function(a){return a.constructor===Object?this.parseRotateObjectInitialiser(a):a.constructor===Array?this.parseRotateArrayInitialiser(a):"rotate({0}deg)".format(a||0)};d.prototype.parseRotateObjectInitialiser=function(a){return[this.parseRotateX(a.x),this.parseRotateY(a.y),this.parseRotateZ(a.z)].join(" ")};d.prototype.parseRotateArrayInitialiser=function(a){return"rotate3d({0},{1},{2},{3}deg)".format(a[0]||
0,a[1]||0,a[2]||0,a[3]||0)};d.prototype.parseRotateX=function(a){return"rotateX({0}deg)".format(a||0)};d.prototype.parseRotateY=function(a){return"rotateY({0}deg)".format(a||0)};d.prototype.parseRotateZ=function(a){return"rotateZ({0}deg)".format(a||0)};d.prototype.parseScale=function(a){return a.constructor===Object?this.parseScaleObjectInitialiser(a):a.constructor===Array?this.parseScaleArrayInitialiser(a):"scale({0},{1})".format(a||0,a||0)};d.prototype.parseScaleObjectInitialiser=function(a){return"scale3d({0},{1},{2})".format(a.x||
0,a.y||0,a.z||0)};d.prototype.parseScaleArrayInitialiser=function(a){return"scale3d({0},{1},{2})".format(a[0]||0,a[1]||0,a[2]||0)};d.prototype.parseScaleX=function(a){return"scaleX({0})".format(a||0)};d.prototype.parseScaleY=function(a){return"scaleY({0})".format(a||0)};d.prototype.parseScaleZ=function(a){return"scaleZ({0})".format(a||0)};d.prototype.parseSkew=function(a){return a.constructor===Object?this.parseSkewObjectInitialiser(a):a.constructor===Array?this.parseSkewArrayInitialiser(a):[this.parseSkewX(a),
this.parseSkewY(a)].join(" ")};d.prototype.parseSkewObjectInitialiser=function(a){return[this.parseSkewX(a.x),this.parseSkewY(a.y)].join(" ")};d.prototype.parseSkewArrayInitialiser=function(a){return[this.parseSkewX(a[0]),this.parseSkewY(a[1])].join(" ")};d.prototype.parseSkewX=function(a){return"skewX({0}deg)".format(a||0)};d.prototype.parseSkewY=function(a){return"skewY({0}deg)".format(a||0)};d.prototype.property=function(a){a=a.property||"all";return a.constructor===Array?a.join(","):a};d.prototype.duration=
function(a){return!a?this.transition["{0}transition-duration".format(d.prefix)].replace("ms",""):"{0}ms".format(a.duration||400)};d.prototype.delay=function(a){return a.delay||0};d.prototype.ease=function(a){return a.ease?d.ease[a.ease]:"ease-in-out"};d.prototype.style=function(a){return["flat","preserve-3d"].indexOf(a.style)>=0?a.style:"flat"}})(jQuery);
