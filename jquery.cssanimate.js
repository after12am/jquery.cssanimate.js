/*
 * jquery.cssanimate.js
 *
 * A jQuery plugin provides a stylish and cute animation for your smartphone app.
 *
 * https://github.com/after12am/jquery.cssanimate.js
 *
 * Copyright 2013 Satoshi Okami
 * Released under the MIT license
 */
(function(d){d.fn.origin=function(a,b){var c={};c[f.css.property("origin")]="{0} {1}".format(a,b);c[f.css.property("duration")]="0";d(this).css(c);for(c=0;!d(this).css(f.css.property("duration")).match(/^0/)&&!(50<++c););return this};d.fn.translateX=function(a,b,c,g,h){this.cssanimate({x:a},b,c,g,h)};d.fn.translateY=function(a,b,c,g,h){this.cssanimate({y:a},b,c,g,h)};d.fn.translateZ=function(a,b,c,g,h,d){this.cssanimate({z:a,perspective:b},c,g,h,d)};d.fn.translate=function(a,b,c,g,d,e){this.cssanimate({x:a,
y:b},c,g,d,e)};d.fn.translate3d=function(a,b,c,g,d,e,f,j){this.cssanimate({x:a,y:b,z:c,perspective:g},d,e,f,j)};d.fn.scaleX=function(a,b,c,g,d){this.cssanimate({scalex:a},b,c,g,d)};d.fn.scaleY=function(a,b,c,d,e){this.cssanimate({scaley:a},b,c,d,e)};d.fn.scaleZ=function(){throw Error("not implemented");};d.fn.scale=function(a,b,c,d,e,f){this.cssanimate({scalex:a,scaley:b},c,d,e,f)};d.fn.scale3d=function(){throw Error("not implemented");};d.fn.rotateX=function(a,b,c,d,e){this.cssanimate({rotatex:a},
b,c,d,e)};d.fn.rotateY=function(a,b,c,d,e,f){this.cssanimate({rotatey:a,perspective:b},c,d,e,f)};d.fn.rotateZ=function(a,b,c,d,e){this.cssanimate({rotatez:a},b,c,d,e)};d.fn.rotate=function(a,b,c,d,e){this.cssanimate({rotate:a},b,c,d,e)};d.fn.rotate3d=function(a,b,c,d,e,f,k,j,l){this.cssanimate({rotate:[a,b,c,d],perspective:e},f,k,j,l)};d.fn.skewX=function(a,b,c,d,e){this.cssanimate({skewx:a},b,c,d,e)};d.fn.skewY=function(a,b,c,d,e){this.cssanimate({skewy:a},b,c,d,e)};d.fn.skew=function(a,b,c,d,e,
f){this.cssanimate({skew:[a,b]},c,d,e,f)};var f={prefix:function(){var a=d("<div>")[0],b="",c={WebkitTransition:"-webkit-",MozTransition:"-moz-",MSTransition:"-ms-",OTransition:"-o-",transition:""};for(b in c)if(void 0!==a.style[b])return c[b];return b},event:{}};f.event.transitionEnd=function(){var a=d("<div>")[0],b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"},c;for(c in b)if(void 0!==
a.style[c])return b[c];return"transitionEnd"};f.css={};f.css.property=function(a){var b=e.prefix;return{origin:"{0}transform-origin".format(b),duration:"{0}transition-duration".format(b),property:"{0}transition-property".format(b),delay:"{0}transition-delay".format(b),ease:"{0}transition-timing-function".format(b),style:"{0}transition-style".format(b)}[a]||a};d.fn.cssanimate=function(a,b,c,f,h){var i,a=a||{};"function"===typeof b&&(h=b,b=void 0);"function"===typeof c&&(h=c,c=void 0);"function"===
typeof f&&(h=f,f=void 0);void 0!==a.duration&&(b=a.duration,delete a.duration);void 0!==a.delay&&(c=a.delay,delete a.delay);void 0!==a.ease&&(f=a.ease,delete a.ease);void 0!==a.property&&(i=a.property.constructor===Array?a.property.join(","):a.property,delete a.property);"property duration delay ease style origin".split(" ").forEach(function(b){delete a[b]});delete a.perspective;(new e(d(this),b,c,f,void 0,i)).compile(a).queue(h);return this};void 0==String.prototype.format&&(String.prototype.format=
function(a){if("object"==typeof a)return this.replace(/\{(\w+)\}/g,function(b,c){return a[c]});a=Array.prototype.slice.apply(arguments);return ss=a.reduce(function(b,c,d){return b.replace("{i}".replace("i",d),a[d])},this.toString())});var e=function(a,b,c,d,f,i){this.css={};this.elem=a;this.transition={duration:b||400,delay:c||0,ease:e.ease[d]||"ease-in-out",style:f||"flat",property:i||"all"}};e.prefix=f.prefix();e.transitionEvent=f.event.transitionEnd();e.ease={"in":"ease-in",out:"ease-out","in-out":"ease-in-out",
snap:"cubic-bezier(0,1,.5,1)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)","ease-in-quad":"cubic-bezier(0.550, 0.085, 0.680, 0.530)","ease-in-cubic":"cubic-bezier(0.550, 0.055, 0.675, 0.190)","ease-in-quart":"cubic-bezier(0.895, 0.030, 0.685, 0.220)","ease-in-quint":"cubic-bezier(0.755, 0.050, 0.855, 0.060)","ease-in-sine":"cubic-bezier(0.470, 0.000, 0.745, 0.715)","ease-in-expo":"cubic-bezier(0.950, 0.050, 0.795, 0.035)","ease-in-circ":"cubic-bezier(0.600, 0.040, 0.980, 0.335)","ease-in-back":"cubic-bezier(0.600, -0.280, 0.735, 0.045)",
"ease-out-quad":"cubic-bezier(0.250, 0.460, 0.450, 0.940)","ease-out-cubic":"cubic-bezier(0.215, 0.610, 0.355, 1.000)","ease-out-quart":"cubic-bezier(0.165, 0.840, 0.440, 1.000)","ease-out-quint":"cubic-bezier(0.230, 1.000, 0.320, 1.000)","ease-out-sine":"cubic-bezier(0.390, 0.575, 0.565, 1.000)","ease-out-expo":"cubic-bezier(0.190, 1.000, 0.220, 1.000)","ease-out-circ":"cubic-bezier(0.075, 0.820, 0.165, 1.000)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1.275)","ease-out-quad":"cubic-bezier(0.455, 0.030, 0.515, 0.955)",
"ease-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1.000)","ease-in-out-quart":"cubic-bezier(0.770, 0.000, 0.175, 1.000)","ease-in-out-quint":"cubic-bezier(0.860, 0.000, 0.070, 1.000)","ease-in-out-sine":"cubic-bezier(0.445, 0.050, 0.550, 0.950)","ease-in-out-expo":"cubic-bezier(1.000, 0.000, 0.000, 1.000)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.150, 0.860)","ease-in-out-back":"cubic-bezier(0.680, -0.550, 0.265, 1.550)"};e.prototype.compile=function(a){var b=[],c;for(c in a){switch(c){case "x":b.push(this.parseX(a[c]));
break;case "y":b.push(this.parseY(a[c]));break;case "z":b.push(this.parseZ(a[c]));break;case "rotate":b.push(this.parseRotate(a[c]));break;case "rotatex":b.push(this.parseRotateX(a[c]));break;case "rotatey":b.push(this.parseRotateY(a[c]));break;case "rotatez":b.push(this.parseRotateZ(a[c]));break;case "scale":b.push(this.parseScale(a[c]));break;case "scalex":b.push(this.parseScaleX(a[c]));break;case "scaley":b.push(this.parseScaleY(a[c]));break;case "scalez":b.push(this.parseScaleZ(a[c]));break;case "skew":b.push(this.parseSkew(a[c]));
break;case "skewx":b.push(this.parseSkewX(a[c]));break;case "skewy":b.push(this.parseSkewY(a[c]));break;default:continue}delete a[c]}return this.build(a,b)};e.prototype.build=function(a,b){var c={};c["{0}transform".format(e.prefix)]=b.join(" ");c[f.css.property("property")]=this.transition.property;c[f.css.property("duration")]="{0}ms".format(this.transition.duration);c[f.css.property("delay")]=this.transition.delay;c[f.css.property("ease")]=this.transition.ease;c[f.css.property("style")]=this.transition.style;
this.css=d.extend(c,a);return this};e.prototype.queue=function(a){var b=this,c=function(){d(this).unbind(e.transitionEvent,d.proxy(c,this));typeof a==="function"&&d.proxy(a,this)();d(this).dequeue()};d(this.elem).queue(function(){if(b.transition.duration===0){d(b.elem).css(css);for(var g=0;;){if(d(b.elem).css(f.css.property("duration")).match(/^0/))break;if(++g>50)break}typeof a==="function"&&d.proxy(a,b.elem)();d(b.elem).dequeue()}else d(b.elem).bind(e.transitionEvent,d.proxy(c,b.elem)).css(b.css)})};
e.prototype.parseX=function(a){return"translateX({0}px)".format(a||0)};e.prototype.parseY=function(a){return"translateY({0}px)".format(a||0)};e.prototype.parseZ=function(a){return"translateZ({0}px)".format(a||0)};e.prototype.parseRotate=function(a){return a.constructor===Object?this.parseRotateObjectInitialiser(a):a.constructor===Array?this.parseRotateArrayInitialiser(a):"rotate({0}deg)".format(a||0)};e.prototype.parseRotateObjectInitialiser=function(a){return[this.parseRotateX(a.x),this.parseRotateY(a.y),
this.parseRotateZ(a.z)].join(" ")};e.prototype.parseRotateArrayInitialiser=function(a){return"rotate3d({0},{1},{2},{3}deg)".format(a[0]||0,a[1]||0,a[2]||0,a[3]||0)};e.prototype.parseRotateX=function(a){return"rotateX({0}deg)".format(a||0)};e.prototype.parseRotateY=function(a){return"rotateY({0}deg)".format(a||0)};e.prototype.parseRotateZ=function(a){return"rotateZ({0}deg)".format(a||0)};e.prototype.parseScale=function(a){return a.constructor===Object?this.parseScaleObjectInitialiser(a):a.constructor===
Array?this.parseScaleArrayInitialiser(a):"scale({0},{1})".format(a||0,a||0)};e.prototype.parseScaleObjectInitialiser=function(a){return"scale3d({0},{1},{2})".format(a.x||0,a.y||0,a.z||0)};e.prototype.parseScaleArrayInitialiser=function(a){return"scale3d({0},{1},{2})".format(a[0]||0,a[1]||0,a[2]||0)};e.prototype.parseScaleX=function(a){return"scaleX({0})".format(a||0)};e.prototype.parseScaleY=function(a){return"scaleY({0})".format(a||0)};e.prototype.parseScaleZ=function(a){return"scaleZ({0})".format(a||
0)};e.prototype.parseSkew=function(a){return a.constructor===Object?this.parseSkewObjectInitialiser(a):a.constructor===Array?this.parseSkewArrayInitialiser(a):[this.parseSkewX(a),this.parseSkewY(a)].join(" ")};e.prototype.parseSkewObjectInitialiser=function(a){return[this.parseSkewX(a.x),this.parseSkewY(a.y)].join(" ")};e.prototype.parseSkewArrayInitialiser=function(a){return[this.parseSkewX(a[0]),this.parseSkewY(a[1])].join(" ")};e.prototype.parseSkewX=function(a){return"skewX({0}deg)".format(a||
0)};e.prototype.parseSkewY=function(a){return"skewY({0}deg)".format(a||0)}})(jQuery);
