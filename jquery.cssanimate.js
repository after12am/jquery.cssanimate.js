/*
 * jquery.cssanimate.js
 *
 * A jQuery plugin provides a stylish and cute animation for your smartphone app.
 *
 * https://github.com/after12am/jquery.cssanimate.js
 *
 * Copyright 2012-2013 Satoshi Okami
 * Released under the MIT license
 */
(function(d){function e(a){return{format:function(b){if("object"==typeof b)return a.replace(/\{(\w+)\}/g,function(a,f){return b[f]});b=Array.prototype.slice.apply(arguments);return ss=b.reduce(function(a,f,c){return a.replace("{i}".replace("i",c),b[c])},a.toString())}}}d.fn.origin=function(a,b){d(this).queue(function(){d(this).css(g.css.property("origin"),e("{0} {1}").format(a,b));for(var k=0;!d(this).css(g.css.property("origin"))&&!(50<++k););d(this).dequeue()});return this};d.fn.perspective=function(a){d(this).queue(function(){d(this).parent().css(g.css.property("perspective"),
e("{0}px").format(+a||0));for(var b=0;!d(this).parent().css(g.css.property("perspective"))&&!(50<++b););d(this).dequeue()});return this};d.fn.to=function(a,b,k,f,c){return a.constructor!==Array?this:this.cssanimate({to:a},b,k,f,c)};d.fn.rotate=function(a,b,c,f,d){return a.constructor!==Array?this:this.cssanimate({rotate:a},b,c,f,d)};d.fn.scale=function(a,b,c,f,d){return a.constructor!==Array?this:this.cssanimate({scale:a},b,c,f,d)};d.fn.skew=function(a,b,c,f,d){return a.constructor!==Array?this:this.cssanimate({skew:a},
b,c,f,d)};d.fn.grayscale=function(a,b,c,f,d){return a.constructor!==Number?this:this.cssanimate({grayscale:a},b,c,f,d)};d.fn.sepia=function(a,b,c,f,d){return a.constructor!==Number?this:this.cssanimate({sepia:a},b,c,f,d)};d.fn.saturate=function(a,b,c,f,d){return a.constructor!==Number?this:this.cssanimate({saturate:a},b,c,f,d)};d.fn.hueRoate=function(a,b,c,f,d){return a.constructor!==Number?this:this.cssanimate({"hue-rotate":a},b,c,f,d)};d.fn.invert=function(a,b,c,d,e){return a.constructor!==Number?
this:this.cssanimate({invert:a},b,c,d,e)};d.fn.opacity=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({opacity:a},b,c,d,e)};d.fn.brightness=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({brightness:a},b,c,d,e)};d.fn.contrast=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({contrast:a},b,c,d,e)};d.fn.blur=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({blur:a},b,c,d,e)};d.fn.dropShadow=function(a,b,c,d,
e){return a.constructor!==Array?this:this.cssanimate({"drop-shadow":a},b,c,d,e)};d.fn.shader=function(){throw"$.fn.shader() is not implemented";};var g={},i=d("<div>")[0];g.prefix=function(){var a="",b={WebkitTransition:"-webkit-",MozTransition:"-moz-",MSTransition:"-ms-",OTransition:"-o-"};for(a in b)if(void 0!==i.style[a])return b[a];return a};g.event={};g.event.transitionEnd=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionend",MSTransition:"msTransitionEnd",
OTransition:"oTransitionEnd"},b;for(b in a)if(void 0!==i.style[b])return a[b];return"transitionEnd"};g.css={};g.css.property=function(a){var b=c.prefix,b={transform:e("{0}transform").format(b),origin:e("{0}transform-origin").format(b),duration:e("{0}transition-duration").format(b),property:e("{0}transition-property").format(b),delay:e("{0}transition-delay").format(b),ease:e("{0}transition-timing-function").format(b),style:e("{0}transition-style").format(b),perspective:e("{0}perspective").format(b)},
d=e("{0}{1}").format(g.prefix,a);return b[a]?b[a]:void 0!==i.style[d]?d:a};d.fn.cssanimate=function(a,b,e,f,g){var a=a||{},j;if(a.constructor===Array)return this.cssanimate.loopback(this,a),this;"function"===typeof b&&(g=b,b=void 0);"function"===typeof e&&(g=e,e=void 0);"function"===typeof f&&(g=f,f=void 0);void 0!==a.duration&&(b=a.duration,delete a.duration);void 0!==a.delay&&(e=a.delay,delete a.delay);void 0!==a.ease&&(f=a.ease,delete a.ease);void 0!==a.property&&(j=a.property.constructor===Array?
a.property.join(","):a.property,delete a.property);"property duration delay ease style origin perspective".split(" ").forEach(function(b){delete a[b]});for(var h in a)h.match(/transform$/)?delete a[h]:h.match(/transform-origin$/)?delete a[h]:h.match(/transition-duration$/)?delete a[h]:h.match(/transition-property$/)?delete a[h]:h.match(/transition-delete$/)?delete a[h]:h.match(/transition-timing-function$/)?delete a[h]:h.match(/transition-style$/)&&delete a[h];this.cache=this.cache||new c(d(this));
this.cache.compile(a,b,e,f,void 0,j,g);return this};d.fn.cssanimate.loopback=function(a,b){var c=[];b.forEach(function(a,b){c[b]=d.extend(!0,{},a)});c.forEach(function(b){d(a).cssanimate(b[0],b[1],b[2],b[3],b[4])});d(a).queue(function(){d(a).cssanimate(b);d(a).dequeue()});return a};var c=function(a){this.elem=a;this.transition={};this.position={x:0,y:0,z:0};this.rotation={x:0,y:0,z:0};this.scale={x:1,y:1,z:1};this.skew={x:0,y:0};this.filter={}};c.prefix=g.prefix();c.transitionEvent=g.event.transitionEnd();
c.ease={"in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)","ease-in-quad":"cubic-bezier(0.550, 0.085, 0.680, 0.530)","ease-in-cubic":"cubic-bezier(0.550, 0.055, 0.675, 0.190)","ease-in-quart":"cubic-bezier(0.895, 0.030, 0.685, 0.220)","ease-in-quint":"cubic-bezier(0.755, 0.050, 0.855, 0.060)","ease-in-sine":"cubic-bezier(0.470, 0.000, 0.745, 0.715)","ease-in-expo":"cubic-bezier(0.950, 0.050, 0.795, 0.035)","ease-in-circ":"cubic-bezier(0.600, 0.040, 0.980, 0.335)",
"ease-in-back":"cubic-bezier(0.600, -0.280, 0.735, 0.045)","ease-out-quad":"cubic-bezier(0.250, 0.460, 0.450, 0.940)","ease-out-cubic":"cubic-bezier(0.215, 0.610, 0.355, 1.000)","ease-out-quart":"cubic-bezier(0.165, 0.840, 0.440, 1.000)","ease-out-quint":"cubic-bezier(0.230, 1.000, 0.320, 1.000)","ease-out-sine":"cubic-bezier(0.390, 0.575, 0.565, 1.000)","ease-out-expo":"cubic-bezier(0.190, 1.000, 0.220, 1.000)","ease-out-circ":"cubic-bezier(0.075, 0.820, 0.165, 1.000)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1.275)",
"ease-out-quad":"cubic-bezier(0.455, 0.030, 0.515, 0.955)","ease-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1.000)","ease-in-out-quart":"cubic-bezier(0.770, 0.000, 0.175, 1.000)","ease-in-out-quint":"cubic-bezier(0.860, 0.000, 0.070, 1.000)","ease-in-out-sine":"cubic-bezier(0.445, 0.050, 0.550, 0.950)","ease-in-out-expo":"cubic-bezier(1.000, 0.000, 0.000, 1.000)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.150, 0.860)","ease-in-out-back":"cubic-bezier(0.680, -0.550, 0.265, 1.550)"};c.prototype.compile=
function(a,b,e,f,g,j,h){this.transition={duration:"number"===typeof b?b:400,delay:e||0,ease:c.ease[f]||f||"ease-in-out",style:g||"flat",property:j||"all"};this.parse(a);this.queue(d.extend(!0,{},this.build(a)),h);return this};c.prototype.queue=function(a,b){var e=this;d(this.elem).queue(function(){for(var f=function(){d(this).unbind(c.transitionEvent,d.proxy(f,this));"function"===typeof b&&d.proxy(b,this)();d(this).dequeue()},i=0;!d(e.elem).css(g.css.property("duration"))&&!(50<++i););if(0===e.transition.duration){d(e.elem).css(a);
for(i=0;!d(e.elem).css(g.css.property("duration")).match(/^0/)&&!(50<++i););"function"===typeof b&&d.proxy(b,e.elem)();d(e.elem).dequeue()}else d(e.elem).bind(c.transitionEvent,d.proxy(f,e.elem)).css(a)})};c.prototype.parse=function(a){for(var b in a){if("to"==b)this.parseTranslate(a[b]);else if("x"==b)this.parseTranslateX(a[b]);else if("y"==b)this.parseTranslateY(a[b]);else if("z"==b)this.parseTranslateZ(a[b]);else if("rotate"==b)this.parseRotate(a[b]);else if("rotatex"==b)this.parseRotateX(a[b]);
else if("rotatey"==b)this.parseRotateY(a[b]);else if("rotatez"==b)this.parseRotateZ(a[b]);else if("scale"==b)this.parseScale(a[b]);else if("scalex"==b)this.parseScaleX(a[b]);else if("scaley"==b)this.parseScaleY(a[b]);else if("scalez"==b)this.parseScaleZ(a[b]);else if("skew"==b)this.parseSkew(a[b]);else if("skewx"==b)this.parseSkewX(a[b]);else if("skewy"==b)this.parseSkewY(a[b]);else continue;delete a[b]}if(a.filter){for(b in a.filter)"grayscale"==b?this.filter.grayscale=this.buildGrayscale(a.filter[b]):
"sepia"==b?this.filter.sepia=this.buildSepia(a.filter[b]):"saturate"==b?this.filter.saturate=this.buildSaturate(a.filter[b]):"hue-rotate"==b?this.filter["hue-rotate"]=this.buildHueRotate(a.filter[b]):"invert"==b?this.filter.invert=this.buildInvert(a.filter[b]):"opacity"==b?this.filter.opacity=this.buildOpacity(a.filter[b]):"brightness"==b?this.filter.brightness=this.buildBrightness(a.filter[b]):"contrast"==b?this.filter.contrast=this.buildContrast(a.filter[b]):"blur"==b?this.filter.blur=this.buildBlur(a.filter[b]):
"drop-shadow"==b?this.filter["drop-shadow"]=this.buildDropShadow(a.filter[b]):"shader"==b&&(this.filter.shader=this.buildShader(a.filter[b]));delete a.filter}};c.prototype.parseTranslate=function(a){a.constructor===Array&&this.parseTranslateArrayInitialiser(a);a.constructor===Object&&this.parseTranslateObjectInitialiser(a);a.constructor===Number&&(this.position.x=a)};c.prototype.parseTranslateX=function(a){void 0!==a&&a.constructor===Number&&(this.position.x=a)};c.prototype.parseTranslateY=function(a){void 0!==
a&&a.constructor===Number&&(this.position.y=a)};c.prototype.parseTranslateZ=function(a){void 0!==a&&a.constructor===Number&&(this.position.z=a)};c.prototype.parseTranslateObjectInitialiser=function(a){void 0!==a.x&&a.x.constructor===Number&&(this.position.x=a.x);void 0!==a.y&&a.y.constructor===Number&&(this.position.y=a.y);void 0!==a.z&&a.z.constructor===Number&&(this.position.z=a.z)};c.prototype.parseTranslateArrayInitialiser=function(a){void 0!==a[0]&&a[0].constructor===Number&&(this.position.x=
a[0]);void 0!==a[1]&&a[1].constructor===Number&&(this.position.y=a[1]);void 0!==a[2]&&a[2].constructor===Number&&(this.position.z=a[2])};c.prototype.parseRotate=function(a){a.constructor===Array&&this.parseRotateArrayInitialiser(a);a.constructor===Object&&this.parseRotateObjectInitialiser(a);a.constructor===Number&&(this.rotation.z=a)};c.prototype.parseRotateX=function(a){void 0!==a&&a.constructor===Number&&(this.rotation.x=a)};c.prototype.parseRotateY=function(a){void 0!==a&&a.constructor===Number&&
(this.rotation.y=a)};c.prototype.parseRotateZ=function(a){void 0!==a&&a.constructor===Number&&(this.rotation.z=a)};c.prototype.parseRotateObjectInitialiser=function(a){void 0!==a.x&&a.x.constructor===Number&&(this.rotation.x=a.x);void 0!==a.y&&a.y.constructor===Number&&(this.rotation.y=a.y);void 0!==a.z&&a.z.constructor===Number&&(this.rotation.z=a.z)};c.prototype.parseRotateArrayInitialiser=function(a){void 0!==a[0]&&a[0].constructor===Number&&(this.rotation.x=a[0]);void 0!==a[1]&&a[1].constructor===
Number&&(this.rotation.y=a[1]);void 0!==a[2]&&a[2].constructor===Number&&(this.rotation.z=a[2])};c.prototype.parseScale=function(a){a.constructor===Array&&this.parseScaleArrayInitialiser(a);a.constructor===Object&&this.parseScaleObjectInitialiser(a);a.constructor===Number&&(this.scale.x=this.scale.y=a)};c.prototype.parseScaleX=function(a){void 0!==a&&a.constructor===Number&&(this.scale.x=a)};c.prototype.parseScaleY=function(a){void 0!==a&&a.constructor===Number&&(this.scale.y=a)};c.prototype.parseScaleZ=
function(a){void 0!==a&&a.constructor===Number&&(this.scale.z=a)};c.prototype.parseScaleObjectInitialiser=function(a){void 0!==a.x&&a.x.constructor===Number&&(this.scale.x=a.x);void 0!==a.y&&a.y.constructor===Number&&(this.scale.y=a.y);void 0!==a.z&&a.z.constructor===Number&&(this.scale.z=a.z)};c.prototype.parseScaleArrayInitialiser=function(a){void 0!==a[0]&&a[0].constructor===Number&&(this.scale.x=a[0]);void 0!==a[1]&&a[1].constructor===Number&&(this.scale.y=a[1]);void 0!==a[2]&&a[2].constructor===
Number&&(this.scale.z=a[2])};c.prototype.parseSkew=function(a){a.constructor===Array&&this.parseSkewArrayInitialiser(a);a.constructor===Object&&this.parseSkewObjectInitialiser(a);a.constructor===Number&&(this.skew.x=this.skew.y=a)};c.prototype.parseSkewX=function(a){void 0!==a&&a.constructor===Number&&(this.skew.x=a)};c.prototype.parseSkewY=function(a){void 0!==a&&a.constructor===Number&&(this.skew.y=a)};c.prototype.parseSkewObjectInitialiser=function(a){void 0!==a.x&&a.x.constructor===Number&&(this.skew.x=
a.x);void 0!==a.y&&a.y.constructor===Number&&(this.skew.y=a.y)};c.prototype.parseSkewArrayInitialiser=function(a){void 0!==a[0]&&a[0].constructor===Number&&(this.skew.x=a[0]);void 0!==a[1]&&a[1].constructor===Number&&(this.skew.y=a[1])};c.prototype.build=function(a){var b={};b[g.css.property("property")]=this.transition.property;b[g.css.property("duration")]=e("{0}ms").format(this.transition.duration);b[g.css.property("delay")]=e("{0}ms").format(this.transition.delay);b[g.css.property("ease")]=this.transition.ease;
b[g.css.property("style")]=this.transition.style;b[g.css.property("transform")]=[this.buildTranslate(),this.buildRotate(),this.buildScale(),this.buildSkew()].join(" ");var c=[],d;for(d in this.filter)c.push(this.filter[d]);0<c.length&&(b[g.css.property("filter")]=c.join(" "),b.filter=c.join(" "));for(d in a)b[g.css.property(d)]=a[d],b[d]=a[d];return b};c.prototype.buildTranslate=function(){return e("translate3d({0}px,{1}px,{2}px)").format(this.position.x||0,this.position.y||0,this.position.z||0)};
c.prototype.buildRotate=function(){return[this.buildRotateX(),this.buildRotateY(),this.buildRotateZ()].join(" ")};c.prototype.buildRotateX=function(){return e("rotateX({0}deg)").format(this.rotation.x||0)};c.prototype.buildRotateY=function(){return e("rotateY({0}deg)").format(this.rotation.y||0)};c.prototype.buildRotateZ=function(){return e("rotateZ({0}deg)").format(this.rotation.z||0)};c.prototype.buildScale=function(){return e("scale3d({0},{1},{2})").format(this.scale.x,this.scale.y,this.scale.z)};
c.prototype.buildSkew=function(){return[this.buildSkewX(),this.buildSkewY()].join(" ")};c.prototype.buildSkewX=function(){return e("skewX({0}deg)").format(this.skew.x||0)};c.prototype.buildSkewY=function(){return e("skewY({0}deg)").format(this.skew.y||0)};c.prototype.buildGrayscale=function(a){return e("grayscale({0}%)").format(a||0)};c.prototype.buildSepia=function(a){return e("sepia({0}%)").format(a||0)};c.prototype.buildSaturate=function(a){return e("saturate({0}%)").format(a||0)};c.prototype.buildHueRotate=
function(a){return e("hue-rotate({0}deg)").format(a||0)};c.prototype.buildInvert=function(a){return e("invert({0}%)").format(a||0)};c.prototype.buildOpacity=function(a){return e("opacity({0}%)").format(a||0)};c.prototype.buildBrightness=function(a){return e("brightness({0}%)").format(a||0)};c.prototype.buildContrast=function(a){return e("contrast({0}%)").format(a||0)};c.prototype.buildBlur=function(a){return e("blur({0}px)").format(a||0)};c.prototype.buildDropShadow=function(a){return a.constructor===
Array?this.buildDropShadowArrayInitialiser(a):"drop-shadow(0px 0px)"};c.prototype.buildDropShadowArrayInitialiser=function(a){var b="";a.forEach(function(c,d){c.constructor===String&&!c.match(/^[0-9]+/)&&(b=c,a.splice(d,1))});if(2===a.length)return e("drop-shadow({0}px {1}px {2})").format(a[0]||0,a[1]||0,b||"#000000");if(3===a.length)return e("drop-shadow({0}px {1}px {2}px {3})").format(a[0]||0,a[1]||0,a[2]||0,b||"#000000");if(4===a.length)return e("drop-shadow({0}px {1}px {2}px {3} {4})").format(a[0]||
0,a[1]||0,a[2]||0,a[3]||0,b||"#000000")};c.prototype.buildShader=function(){throw"shader property is not implemented";}})(jQuery);
