/*
 * jquery.cssanimate.js
 *
 * A jQuery plugin provides a stylish and cute animation for your smartphone app.
 *
 * https://github.com/after12am/jquery.cssanimate.js
 *
 * Copyright 2012-2013 Satoshi Okami
 * Released under the MIT license
 */
(function(c){function e(a){return{format:function(b){if("object"==typeof b)return a.replace(/\{(\w+)\}/g,function(a,g){return b[g]});b=Array.prototype.slice.apply(arguments);return ss=b.reduce(function(a,g,c){return a.replace("{i}".replace("i",c),b[c])},a.toString())}}}c.fn.origin=function(a,b){c(this).queue(function(){c(this).css(f.css.property("origin"),e("{0} {1}").format(a,b));for(var j=0;!c(this).css(f.css.property("origin"))&&!(50<++j););c(this).dequeue()});return this};c.fn.perspective=function(a){c(this).queue(function(){c(this).parent().css(f.css.property("perspective"),
e("{0}px").format(+a||0));for(var b=0;!c(this).parent().css(f.css.property("perspective"))&&!(50<++b););c(this).dequeue()});return this};c.fn.to=function(a,b,j,g,c){return a.constructor!==Array?this:this.cssanimate({to:a},b,j,g,c)};c.fn.rotate=function(a,b,c,g,d){return a.constructor!==Array?this:this.cssanimate({rotate:a},b,c,g,d)};c.fn.scale=function(a,b,c,g,d){return a.constructor!==Array?this:this.cssanimate({scale:a},b,c,g,d)};c.fn.skew=function(a,b,c,g,d){return a.constructor!==Array?this:this.cssanimate({skew:a},
b,c,g,d)};c.fn.grayscale=function(a,b,c,g,d){return a.constructor!==Number?this:this.cssanimate({grayscale:a},b,c,g,d)};c.fn.sepia=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({sepia:a},b,c,d,e)};c.fn.saturate=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({saturate:a},b,c,d,e)};c.fn.hueRoate=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({"hue-rotate":a},b,c,d,e)};c.fn.invert=function(a,b,c,d,e){return a.constructor!==Number?
this:this.cssanimate({invert:a},b,c,d,e)};c.fn.opacity=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({opacity:a},b,c,d,e)};c.fn.brightness=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({brightness:a},b,c,d,e)};c.fn.contrast=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({contrast:a},b,c,d,e)};c.fn.blur=function(a,b,c,d,e){return a.constructor!==Number?this:this.cssanimate({blur:a},b,c,d,e)};c.fn.dropShadow=function(a,b,c,d,
e){return a.constructor!==Array?this:this.cssanimate({"drop-shadow":a},b,c,d,e)};c.fn.shader=function(){throw"$.fn.shader() is not implemented";};var f={},k=c("<div>")[0];f.prefix=function(){var a="",b={WebkitTransition:"-webkit-",MozTransition:"-moz-",MSTransition:"-ms-",OTransition:"-o-"};for(a in b)if(void 0!==k.style[a])return b[a];return a};f.event={};f.event.transitionEnd=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionend",MSTransition:"msTransitionEnd",
OTransition:"oTransitionEnd"},b;for(b in a)if(void 0!==k.style[b])return a[b];return"transitionEnd"};f.css={};f.css.property=function(a){var b=d.prefix,b={transform:e("{0}transform").format(b),origin:e("{0}transform-origin").format(b),duration:e("{0}transition-duration").format(b),property:e("{0}transition-property").format(b),delay:e("{0}transition-delay").format(b),ease:e("{0}transition-timing-function").format(b),style:e("{0}transition-style").format(b),perspective:e("{0}perspective").format(b)},
c=e("{0}{1}").format(f.prefix,a);return b[a]?b[a]:void 0!==k.style[c]?c:a};c.fn.cssanimate=function(a,b,e,g,f){var a=a||{},i;if(a.constructor===Array)return this.cssanimate.loopback(this,a),this;"function"===typeof b&&(f=b,b=void 0);"function"===typeof e&&(f=e,e=void 0);"function"===typeof g&&(f=g,g=void 0);void 0!==a.duration&&(b=a.duration,delete a.duration);void 0!==a.delay&&(e=a.delay,delete a.delay);void 0!==a.ease&&(g=a.ease,delete a.ease);void 0!==a.property&&(i=a.property.constructor===Array?
a.property.join(","):a.property,delete a.property);"property duration delay ease style origin perspective".split(" ").forEach(function(b){delete a[b]});for(var h in a)h.match(/transform$/)?delete a[h]:h.match(/transform-origin$/)?delete a[h]:h.match(/transition-duration$/)?delete a[h]:h.match(/transition-property$/)?delete a[h]:h.match(/transition-delete$/)?delete a[h]:h.match(/transition-timing-function$/)?delete a[h]:h.match(/transition-style$/)&&delete a[h];(new d(c(this),b,e,g,void 0,i)).compile(a).queue(f);
return this};c.fn.cssanimate.loopback=function(a,b){var d=[];b.forEach(function(a,b){d[b]=c.extend(!0,{},a)});d.forEach(function(b){c(a).cssanimate(b[0],b[1],b[2],b[3],b[4])});c(a).queue(function(){c(a).cssanimate(b);c(a).dequeue()});return a};var d=function(a,b,c,e,f,i){this.css={};this.elem=a;this.filters=[];this.transition={transform:[],duration:"number"===typeof b?b:400,delay:c||0,ease:d.ease[e]||e||"ease-in-out",style:f||"flat",property:i||"all"}};d.prefix=f.prefix();d.transitionEvent=f.event.transitionEnd();
d.ease={"in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)","ease-in-quad":"cubic-bezier(0.550, 0.085, 0.680, 0.530)","ease-in-cubic":"cubic-bezier(0.550, 0.055, 0.675, 0.190)","ease-in-quart":"cubic-bezier(0.895, 0.030, 0.685, 0.220)","ease-in-quint":"cubic-bezier(0.755, 0.050, 0.855, 0.060)","ease-in-sine":"cubic-bezier(0.470, 0.000, 0.745, 0.715)","ease-in-expo":"cubic-bezier(0.950, 0.050, 0.795, 0.035)","ease-in-circ":"cubic-bezier(0.600, 0.040, 0.980, 0.335)",
"ease-in-back":"cubic-bezier(0.600, -0.280, 0.735, 0.045)","ease-out-quad":"cubic-bezier(0.250, 0.460, 0.450, 0.940)","ease-out-cubic":"cubic-bezier(0.215, 0.610, 0.355, 1.000)","ease-out-quart":"cubic-bezier(0.165, 0.840, 0.440, 1.000)","ease-out-quint":"cubic-bezier(0.230, 1.000, 0.320, 1.000)","ease-out-sine":"cubic-bezier(0.390, 0.575, 0.565, 1.000)","ease-out-expo":"cubic-bezier(0.190, 1.000, 0.220, 1.000)","ease-out-circ":"cubic-bezier(0.075, 0.820, 0.165, 1.000)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1.275)",
"ease-out-quad":"cubic-bezier(0.455, 0.030, 0.515, 0.955)","ease-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1.000)","ease-in-out-quart":"cubic-bezier(0.770, 0.000, 0.175, 1.000)","ease-in-out-quint":"cubic-bezier(0.860, 0.000, 0.070, 1.000)","ease-in-out-sine":"cubic-bezier(0.445, 0.050, 0.550, 0.950)","ease-in-out-expo":"cubic-bezier(1.000, 0.000, 0.000, 1.000)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.150, 0.860)","ease-in-out-back":"cubic-bezier(0.680, -0.550, 0.265, 1.550)"};d.prototype.compile=
function(a){for(var b in a){switch(b){case "to":this.transition.transform.push(this.parseTranslate(a[b]));break;case "x":this.transition.transform.push(this.parseX(a[b]));break;case "y":this.transition.transform.push(this.parseY(a[b]));break;case "z":this.transition.transform.push(this.parseZ(a[b]));break;case "rotate":this.transition.transform.push(this.parseRotate(a[b]));break;case "rotatex":this.transition.transform.push(this.parseRotateX(a[b]));break;case "rotatey":this.transition.transform.push(this.parseRotateY(a[b]));
break;case "rotatez":this.transition.transform.push(this.parseRotateZ(a[b]));break;case "scale":this.transition.transform.push(this.parseScale(a[b]));break;case "scalex":this.transition.transform.push(this.parseScaleX(a[b]));break;case "scaley":this.transition.transform.push(this.parseScaleY(a[b]));break;case "scalez":this.transition.transform.push(this.parseScaleZ(a[b]));break;case "skew":this.transition.transform.push(this.parseSkew(a[b]));break;case "skewx":this.transition.transform.push(this.parseSkewX(a[b]));
break;case "skewy":this.transition.transform.push(this.parseSkewY(a[b]));break;case "grayscale":this.filters.push(this.parseGrayscale(a[b]));break;case "sepia":this.filters.push(this.parseSepia(a[b]));break;case "saturate":this.filters.push(this.parseSaturate(a[b]));break;case "hue-rotate":this.filters.push(this.parseHueRotate(a[b]));break;case "invert":this.filters.push(this.parseInvert(a[b]));break;case "opacity":this.filters.push(this.parseOpacity(a[b]));break;case "brightness":this.filters.push(this.parseBrightness(a[b]));
break;case "contrast":this.filters.push(this.parseContrast(a[b]));break;case "blur":this.filters.push(this.parseBlur(a[b]));break;case "drop-shadow":this.filters.push(this.parseDropShadow(a[b]));break;case "shader":this.filters.push(this.parseShader(a[b]));break;default:continue}delete a[b]}return this.build(remained_css=a)};d.prototype.build=function(a){this.css={};this.css[f.css.property("transform")]=this.transition.transform.join(" ");this.css[f.css.property("property")]=this.transition.property;
this.css[f.css.property("duration")]=e("{0}ms").format(this.transition.duration);this.css[f.css.property("delay")]=e("{0}ms").format(this.transition.delay);this.css[f.css.property("ease")]=this.transition.ease;this.css[f.css.property("style")]=this.transition.style;0<this.filters.length&&(this.css[f.css.property("filter")]=this.filters.join(" "),this.css.filter=this.filters.join(" "));for(var b in a)this.css[f.css.property(b)]=a[b],this.css[b]=a[b];return this};d.prototype.queue=function(a){var b=
this;c(this.elem).queue(function(){for(var e=function(){c(this).unbind(d.transitionEvent,c.proxy(e,this));"function"===typeof a&&c.proxy(a,this)();c(this).dequeue()},g=0;!c(b.elem).css(f.css.property("duration"))&&!(50<++g););if(0===b.transition.duration){c(b.elem).css(b.css);for(g=0;!c(b.elem).css(f.css.property("duration")).match(/^0/)&&!(50<++g););"function"===typeof a&&c.proxy(a,b.elem)();c(b.elem).dequeue()}else c(b.elem).bind(d.transitionEvent,c.proxy(e,b.elem)).css(b.css)})};d.prototype.parseTranslate=
function(a){return a.constructor===Object?this.parseTranslateObjectInitialiser(a):a.constructor===Array?this.parseTranslateArrayInitialiser(a):e("translate({0}px, {1}px)").format(a,a)};d.prototype.parseTranslateObjectInitialiser=function(a){return[this.parseX(a.x),this.parseY(a.y),this.parseZ(a.z)].join(" ")};d.prototype.parseTranslateArrayInitialiser=function(a){if(2===a.length||3===a.length)return[this.parseX(a[0]),this.parseY(a[1]),this.parseZ(a[2])].join(" ");if(4===a.length)return e("translate3d({0},{1},{2},{3}deg)").format(a[0]||
0,a[1]||0,a[2]||0,a[3]||0)};d.prototype.parseX=function(a){return e("translateX({0}px)").format(a||0)};d.prototype.parseY=function(a){return e("translateY({0}px)").format(a||0)};d.prototype.parseZ=function(a){return e("translateZ({0}px)").format(a||0)};d.prototype.parseRotate=function(a){return a.constructor===Object?this.parseRotateObjectInitialiser(a):a.constructor===Array?this.parseRotateArrayInitialiser(a):e("rotate({0}deg)").format(a||0)};d.prototype.parseRotateObjectInitialiser=function(a){return[this.parseRotateX(a.x),
this.parseRotateY(a.y),this.parseRotateZ(a.z)].join(" ")};d.prototype.parseRotateArrayInitialiser=function(a){if(2===a.length||3===a.length)return[this.parseRotateX(a[0]),this.parseRotateY(a[1]),this.parseRotateZ(a[2])].join(" ");if(4===a.length)return e("rotate3d({0},{1},{2},{3}deg)").format(a[0]||0,a[1]||0,a[2]||0,a[3]||0)};d.prototype.parseRotateX=function(a){return e("rotateX({0}deg)").format(a||0)};d.prototype.parseRotateY=function(a){return e("rotateY({0}deg)").format(a||0)};d.prototype.parseRotateZ=
function(a){return e("rotateZ({0}deg)").format(a||0)};d.prototype.parseScale=function(a){return a.constructor===Object?this.parseScaleObjectInitialiser(a):a.constructor===Array?this.parseScaleArrayInitialiser(a):e("scale({0},{1})").format(a||0,a||0)};d.prototype.parseScaleObjectInitialiser=function(a){return e("scale3d({0},{1},{2})").format(a.x||0,a.y||0,a.z||0)};d.prototype.parseScaleArrayInitialiser=function(a){return 2===a.length?[this.parseScaleX(a[0]),this.parseScaleY(a[1])].join(" "):e("scale3d({0},{1},{2})").format(a[0]||
0,a[1]||0,a[2]||0)};d.prototype.parseScaleX=function(a){return e("scaleX({0})").format(a||0)};d.prototype.parseScaleY=function(a){return e("scaleY({0})").format(a||0)};d.prototype.parseScaleZ=function(a){return e("scaleZ({0})").format(a||0)};d.prototype.parseSkew=function(a){return a.constructor===Object?this.parseSkewObjectInitialiser(a):a.constructor===Array?this.parseSkewArrayInitialiser(a):[this.parseSkewX(a),this.parseSkewY(a)].join(" ")};d.prototype.parseSkewObjectInitialiser=function(a){return[this.parseSkewX(a.x),
this.parseSkewY(a.y)].join(" ")};d.prototype.parseSkewArrayInitialiser=function(a){return[this.parseSkewX(a[0]),this.parseSkewY(a[1])].join(" ")};d.prototype.parseSkewX=function(a){return e("skewX({0}deg)").format(a||0)};d.prototype.parseSkewY=function(a){return e("skewY({0}deg)").format(a||0)};d.prototype.parseGrayscale=function(a){return e("grayscale({0}%)").format(a||0)};d.prototype.parseSepia=function(a){return e("sepia({0}%)").format(a||0)};d.prototype.parseSaturate=function(a){return e("saturate({0}%)").format(a||
0)};d.prototype.parseHueRotate=function(a){return e("hue-rotate({0}deg)").format(a||0)};d.prototype.parseInvert=function(a){return e("invert({0}%)").format(a||0)};d.prototype.parseOpacity=function(a){return e("opacity({0}%)").format(a||0)};d.prototype.parseBrightness=function(a){return e("brightness({0}%)").format(a||0)};d.prototype.parseContrast=function(a){return e("contrast({0}%)").format(a||0)};d.prototype.parseBlur=function(a){return e("blur({0}px)").format(a||0)};d.prototype.parseDropShadow=
function(a){return a.constructor===Array?this.parseDropShadowArrayInitialiser(a):"drop-shadow(0px 0px)"};d.prototype.parseDropShadowArrayInitialiser=function(a){var b="";a.forEach(function(c,d){c.constructor===String&&!c.match(/^[0-9]+/)&&(b=c,a.splice(d,1))});if(2===a.length)return e("drop-shadow({0}px {1}px {2})").format(a[0]||0,a[1]||0,b||"#000000");if(3===a.length)return e("drop-shadow({0}px {1}px {2}px {3})").format(a[0]||0,a[1]||0,a[2]||0,b||"#000000");if(4===a.length)return e("drop-shadow({0}px {1}px {2}px {3} {4})").format(a[0]||
0,a[1]||0,a[2]||0,a[3]||0,b||"#000000")};d.prototype.parseShader=function(){throw"shader property is not implemented";}})(jQuery);
